<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <style>
        .sale-off {
            text-decoration: line-through;
        }

        .my-card {
            color: white;
            margin-right: 20px;
            position: relative;
        }

        .card_number {
            background-color: red;
            position: absolute;
            top: -5px;
            left: 10px;
            border-radius: 50%;
            font-size: 0.7em;
            width: 15px;
            height: 15px;
            line-height: 15px;
            text-align: center;
        }
        .autocomplete {
            position: relative;
            display: inline-block;
        }
        .autocomplete-items {
          position: absolute;
          border: 1px solid #d4d4d4;
          border-bottom: none;
          border-top: none;
          z-index: 99;
          /*position the autocomplete items to be the same width as the container:*/
          top: 100%;
          left: 0;
          right: 0;
        }

        .autocomplete-items div {
          padding: 10px;
          cursor: pointer;
          background-color: #fff; 
          border-bottom: 1px solid #d4d4d4; 
        }

        /*when hovering an item:*/
        .autocomplete-items div:hover {
          background-color: #e9e9e9; 
        }

        /*when navigating through the items using the arrow keys:*/
        .autocomplete-active {
          background-color: DodgerBlue !important; 
          color: #ffffff; 
        }
    </style>
</head>

<body>

    <div class="jumbotron text-center">
        <h1>My First Bootstrap Page</h1>
        <p>Resize this responsive page to see the effect!</p>

        <div id="demo" class="carousel slide" data-ride="carousel">

            <!-- Indicators -->
            <ul class="carousel-indicators">
                <li data-target="#demo" data-slide-to="0" class="active"></li>
                <li data-target="#demo" data-slide-to="1"></li>
                <li data-target="#demo" data-slide-to="2"></li>
            </ul>

            <!-- The slideshow -->
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="https://www.w3schools.com/howto/img_nature_wide.jpg" alt="Los Angeles" width="1100"
                        height="500">
                </div>
                <div class="carousel-item">
                    <img src="https://www.w3schools.com/howto/img_nature_wide.jpg" alt="Chicago" width="1100"
                        height="500">
                </div>
                <div class="carousel-item">
                    <img src="https://www.w3schools.com/howto/img_nature_wide.jpg" alt="New York" width="1100"
                        height="500">
                </div>
            </div>

            <!-- Left and right controls -->
            <a class="carousel-control-prev" href="#demo" data-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </a>
            <a class="carousel-control-next" href="#demo" data-slide="next">
                <span class="carousel-control-next-icon"></span>
            </a>
        </div>
    </div>

    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top" style="margin:24px 0;">
            <a class="navbar-brand" href="javascript:void(0)">Logo</a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navb">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navb">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0)">Link</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0)">Link</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" href="javascript:void(0)">Disabled</a>
                    </li>
                </ul>
                <div class="my-card">
                    <div class="card_number">0</div>
                    <span>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm7 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                        </svg>
                    </span>
                </div>
                <form autocomplete="off" action="/action_page.php" class="form-inline my-2 my-lg-0">
                    <input name="searchbox" class="autocomplete" class="form-control mr-sm-2" type="text" placeholder="Search" id="search">
                    <button  class="btn btn-success my-2 my-sm-0" type="button">Search</button>
                </form>
            </div>
        </nav>

        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Products</li>
                <li class="offset-md-9">
                    <select class="form-control form-control-sm order">
                        <option value="0">Order By</option>
                        <option value="1">Decrease</option>
                        <option value="2">Increase</option>
                    </select>
                </li>
            </ol>

        </nav>

        <div class="row mb-3 mt-3" id="products">
            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Vuong 2017</h4>
                        <p class="card-text">
                            <i class="sale-off">$5000</i> -> <i>$500</i>
                        </p>
                        <p>Description</p>
                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Macbook 2020</h4>
                        <p class="card-text">
                            <i>$544</i>
                        </p>
                        <p>Long</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Iphone15</h4>
                        <p class="card-text">
                            <i>$3000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">John Doe</h4>
                        <p class="card-text">
                            <i>$3000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Macbook 2017</h4>
                        <p class="card-text">
                            <i class="sale-off">$3000</i> -> <i>$500</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Macbook 2020</h4>
                        <p class="card-text">
                            <i>$3000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Iphone15</h4>
                        <p class="card-text">
                            <i>$1001</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">John Doe</h4>
                        <p class="card-text">
                            <i>$1005</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Macbook 2020</h4>
                        <p class="card-text">
                            <i>$1000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Iphone15</h4>
                        <p class="card-text">
                            <i>$1002</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">John Doe</h4>
                        <p class="card-text">
                            <i>$1000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Iphone15</h4>
                        <p class="card-text">
                            <i>$1000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">John Doe</h4>
                        <p class="card-text">
                            <i>$1000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Macbook 2020</h4>
                        <p class="card-text">
                            <i>$1000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">Iphone15</h4>
                        <p class="card-text">
                            <i>$1000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 mb-3 product">
                <div class="card" style="">
                    <img class="card-img-top" src="https://www.w3schools.com/bootstrap4/img_avatar1.png"
                        alt="Card image" style="width:100%">
                    <div class="card-body">
                        <h4 class="card-title">John Doe</h4>
                        <p class="card-text">
                            <i>$1000</i>
                        </p>
                        <p>Description</p>

                        <div class="row">
                            <a href="#" class="btn btn-primary buy">Buy</a>
                            <input type="text" name="quantity" value="1" class="col-md-3 offset-md-2">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <hr>
        <div class="row">
            <div class="col-sm-3">
                <h5>THÔNG TIN</h5>
                <p><a href="#">Giới thiệu</a></p>
                <p><a href="#">Sản phẩm</a></p>
                <p><a href="#">Tin tức</a></p>
                <p><a href="#">Tuyển dụng</a></p>
                <p><a href="#">Liên hệ</a></p>
            </div>
            <div class="col-sm-3">
                <h3>Column 2</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
                <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
            </div>
            <div class="col-sm-3">
                <h3>Column 3</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
                <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
            </div>
            <div class="col-sm-3">
                <h3>Column 3</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
                <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $("#search").keyup(function () {
                // search1($(this));
                var key = $(this).val().toLowerCase();

                $('.product').show().filter(function () {
                    return $(this).text().toLowerCase().indexOf(key) == -1;
                }).hide();
            });

            $('.order').change(function () {
                var orderType = $(this).val();
                var products = $('.product');

                var orderProduct = sortProduct(products, orderType);

                products.remove();

                // show orderProduct
                $('#products').append(orderProduct);
            });

            $('.buy').click(function (event) {
                event.preventDefault();
                var currentQuantityProduct = $('.card_number').text();
                var inputQuantity = $(this).parent().find('input').val();
                var regex = inputQuantity.match(/[1-9](\d+){0,}/g);

                // if (inputQuantity == 0 || inputQuantity == "" || isNaN(inputQuantity)) {
                if (regex == null || regex.length != 1 || regex[0].length != inputQuantity.length) {
                    alert('Please input again!');
                } else {
                    var quantity = parseInt(currentQuantityProduct) + parseInt(inputQuantity);
                    $('.card_number').text(quantity);
                }
            });


            function sortProduct(products, type) {
                var results = [];
                var prices = [];
                products.each(function (index) {
                    var product = $(this);
                    var priceArr = product.find('i').text().split('$');
                    var price = priceArr[priceArr.length - 1];

                    prices[index] = price;

                    product.addClass(price);
                });

                if (type == 2) {
                    var orderPrices = prices.sort(function (a, b) { return a - b });
                } else if (type == 1) {
                    var orderPrices = prices.sort(function (a, b) { return b - a });
                } else {
                    location.reload();
                }

                $.each(orderPrices, function (index, value) {
                    results[index] = $('.' + value);
                });

                return results;
            }

            function search1(input) {
                var searchKey = input.val().toLowerCase();
                var productList = $('.product');

                productList.each(function (index) {
                    var product = $(this);
                    var productInfo = product.text().toLowerCase();

                    if (productInfo.indexOf(searchKey) == -1) {
                        product.hide();
                    } else {
                        product.show();
                    }
                });
            }

            function autocomplete(inp, arr) {
            /*the autocomplete function takes two arguments,
            the text field element and an array of possible autocompleted values:*/
            var currentFocus;
            /*execute a function when someone writes in the text field:*/
            inp.addEventListener("input", function(e) {
                var a, b, i, val = this.value;
                /*close any already open lists of autocompleted values*/
                closeAllLists();
                if (!val) { return false;}
                currentFocus = -1;
                /*create a DIV element that will contain the items (values):*/
                a = document.createElement("DIV");
                a.setAttribute("id", this.id + "autocomplete-list");
                a.setAttribute("class", "autocomplete-items");
                /*append the DIV element as a child of the autocomplete container:*/
                this.parentNode.appendChild(a);
                /*for each item in the array...*/
                for (i = 0; i < arr.length; i++) {
                  /*check if the item starts with the same letters as the text field value:*/
                  if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
                    /*create a DIV element for each matching element:*/
                    b = document.createElement("DIV");
                    /*make the matching letters bold:*/
                    b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
                    b.innerHTML += arr[i].substr(val.length);
                    /*insert a input field that will hold the current array item's value:*/
                    b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
                    /*execute a function when someone clicks on the item value (DIV element):*/
                    b.addEventListener("click", function(e) {
                        /*insert the value for the autocomplete text field:*/
                        inp.value = this.getElementsByTagName("input")[0].value;
                        /*close the list of autocompleted values,
                        (or any other open lists of autocompleted values:*/
                        closeAllLists();
                    });
                    a.appendChild(b);
                  }
                }
            });
            /*execute a function presses a key on the keyboard:*/
            inp.addEventListener("keydown", function(e) {
                var x = document.getElementById(this.id + "autocomplete-list");
                if (x) x = x.getElementsByTagName("div");
                if (e.keyCode == 40) {
                  /*If the arrow DOWN key is pressed,
                  increase the currentFocus variable:*/
                  currentFocus++;
                  /*and and make the current item more visible:*/
                  addActive(x);
                } else if (e.keyCode == 38) { //up
                  /*If the arrow UP key is pressed,
                  decrease the currentFocus variable:*/
                  currentFocus--;
                  /*and and make the current item more visible:*/
                  addActive(x);
                } else if (e.keyCode == 13) {
                  /*If the ENTER key is pressed, prevent the form from being submitted,*/
                  e.preventDefault();
                  if (currentFocus > -1) {
                    /*and simulate a click on the "active" item:*/
                    if (x) x[currentFocus].click();
                  }
                }
            });
            function addActive(x) {
              /*a function to classify an item as "active":*/
              if (!x) return false;
              /*start by removing the "active" class on all items:*/
              removeActive(x);
              if (currentFocus >= x.length) currentFocus = 0;
              if (currentFocus < 0) currentFocus = (x.length - 1);
              /*add class "autocomplete-active":*/
              x[currentFocus].classList.add("autocomplete-active");
            }
            function removeActive(x) {
              /*a function to remove the "active" class from all autocomplete items:*/
              for (var i = 0; i < x.length; i++) {
                x[i].classList.remove("autocomplete-active");
              }
            }
            function closeAllLists(elmnt) {
              /*close all autocomplete lists in the document,
              except the one passed as an argument:*/
              var x = document.getElementsByClassName("autocomplete-items");
              for (var i = 0; i < x.length; i++) {
                if (elmnt != x[i] && elmnt != inp) {
                  x[i].parentNode.removeChild(x[i]);
                }
              }
            }
            /*execute a function when someone clicks in the document:*/
            document.addEventListener("click", function (e) {
                closeAllLists(e.target);
            });
          }

          /*An array containing all the country names in the world:*/
          var suggestions = ["Iphone15","Iphone16","Macbook"];

          /*initiate the autocomplete function on the "myInput" element, and pass along the countries array as possible autocomplete values:*/
          autocomplete(document.getElementById("search"), suggestions);
        });
    </script>
</body>

</html>